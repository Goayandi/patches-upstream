From cbc5fe5f67355ecb6b9b006b95a68aafc9e20a20 Mon Sep 17 00:00:00 2001
From: Howard Chen <howard.chen@linaro.org>
Date: Mon, 23 Mar 2015 17:20:12 +0800
Subject: [PATCH 2/5] scp p1

---
 drivers/clk/mediatek/clk-mt8173.c | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/drivers/clk/mediatek/clk-mt8173.c b/drivers/clk/mediatek/clk-mt8173.c
index 39227b4..7673600 100644
--- a/drivers/clk/mediatek/clk-mt8173.c
+++ b/drivers/clk/mediatek/clk-mt8173.c
@@ -239,6 +239,12 @@
 
 static DEFINE_SPINLOCK(lock);
 
+/* dirty hack to make scpsys work */
+spinlock_t *get_mtk_clk_lock(void)
+{
+       return &lock;
+}
+
 static struct mtk_fixed_factor root_clk_alias[] __initdata = {
 	FACTOR(TOP_CLKPH_MCK_O, clkph_mck_o, clk_null, 1, 1),
 	FACTOR(TOP_DPI_CK, dpi_ck, clk_null, 1, 1),
-- 
1.9.1

